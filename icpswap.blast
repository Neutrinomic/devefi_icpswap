{"cells":[{"kind":2,"language":"javascript","value":"let can = await ic(\"xmiu5-jqaaa-aaaag-qbz7q-cai\");\n\nlet aggr = await ic(\"u45jl-liaaa-aaaam-abppa-cai\")\nlet t =  await aggr.get_latest_extended()\n\nlet ICPbal = 1000000000;\nlet BTCbal = 1000000;\n\nlet resp = await can.quote({\n  amountIn: ICPbal.toString(),\n  zeroForOne:false,\n  amountOutMinimum:\"0\"\n  });\n\n\nlet resp2 = await can.quote({\n    amountIn: BTCbal.toString(),\n    zeroForOne:true,\n    amountOutMinimum:\"0\"\n    });\n\nlet rateICS = ICPbal / Number(resp.ok);\nlet rateICSB = BTCbal / Number(resp2.ok);\n\n\nlet aBTCUSD = t[0].rates[0].rate;\nlet aICPUSD = t[2].rates[0].rate;\nlet oracleRate = aBTCUSD / aICPUSD;\nlet oracleRate2 = aICPUSD / aBTCUSD;\nlet rateDiffPerc = (rateICS - oracleRate) / oracleRate * 100; \nlet rateDiffPerc2 = ((rateICSB - oracleRate2) / oracleRate2 * 100);\nlog({rateICS, rateICSB, aBTCUSD, aICPUSD, oracleRate, rateDiffPerc, rateDiffPerc2});\n\n\n"}]}